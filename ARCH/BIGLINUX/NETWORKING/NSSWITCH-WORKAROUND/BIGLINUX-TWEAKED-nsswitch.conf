# Name Service Switch configuration file.
# See nsswitch.conf(5) for details.

aliases: files
ethers: files
group: files [SUCCESS=merge] systemd
gshadow: files systemd
netgroup: files
networks: files dns
passwd: files systemd
protocols: files
publickey: files
rpc: files
services: files
shadow: files systemd

# Optimized for speed while maintaining LAN connectivity in ORDER
# Tolga Erok
# 12/3/2025
# Location: /etc/nsswitch.conf
# -------------------------------------------------------------------------
#    files          → Fastest lookup (uses /etc/hosts first).
#    myhostname     → Ensures the local system name resolves quickly.
#    resolve        → Uses systemd-resolved caching for efficiency.
#    dns            → Queries external DNS if not found locally.
#    mdns4_minimal  → Enables LAN device discovery (Samba, printers, etc.).
# -------------------------------------------------------------------------
# sudo systemctl enable --now systemd-resolved && sudo systemctl restart avahi-daemon NetworkManager smb systemd-resolved

hosts: files myhostname resolve dns mdns4_minimal
